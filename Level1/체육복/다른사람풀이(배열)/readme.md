# 다른 사람이 푼 코드

```java
public class Main
{
    public int solution(int n, int[] lost, int[] reserve)
    {
        //student 배열 생성
        int[] student = new int[n + 2];
        int answer = 0;
        //reserve/lost 정보 반영
        for(int i : lost)
        {
            student[i]--;
        }
        for(int i : reserve)
        {
            student[i]++;
        }
        //여분을 기준으로 앞뒤를 확인하여 체육복을 빌려준다.
        for(int i = 1; i <= n; i++)
        {
            //해당학생이 여분이 있으면
            if(student[i] == 1)
            {
                //앞의 학생이 체육복이 없으면
                if(student[i - 1] == -1)
                {
                    student[i]--;
                    student[i - 1]++;
                }
                //뒤의 학생이 체육복이 없으면
                else if(student[i + 1] == -1)
                {
                    student[i]--;
                    student[i + 1]++;
                }
            }
        }
        //체육복을 가지고 있는 학생 수를 계산한다.
        for(int  i = 1; i <= n; i++)
        {
            if(student[i] > -1)
            {
                answer++;
            }
        }
        return answer;
    }
}

```

# 다른 사람이 푼 코드 해석하며 공부하기

학생들의 체육복 존재 유무를 나타내기 위해 student배열을 생성합니다.<br><br>
크기는 n + 2로 하는데 그 이유는 n으로 크기를 설정할 경우<br><br>
제일 처음 학생일 때 이전 학생의 체육복 여부를 확인할 때,<br><br>
제일 마지막 학생일 경우에 다음 학생의 체육복 여부를 확인할 떄,<br><br>
indexOutOfBoundsException이 발생하기 때문에<br><br>
원래는 이를 막기 위해 조건문을 둬야하지만 그렇게 하면 코드가 깔끔하지 못하기 때문에<br><br>
처음부터 n에 +2를 더한 값으로 배열을 생성하면<br><br>
처음 학생일 때 이전 학생의 체육복 여부를 확인하거나<br><br>
마지막 학생일 때 다음 학생의 체육복 여부를 확인하여도<br><br>
예외가 발생하지 않기 때문에 별도의 조건문을 설정할 필요도 없습니다.<br><br>
배열을 생성하였으면 배열의 초기값은 모두 0일 것입니다.<br><br>
0은 자신의 체육복만 있다는 것을 의미하고,<br><br>
1은 여벌의 체육복이 있다는 것을 의미하고,<br><br>
-1은 체육복을 잃어버려 없다는 것을 의미하도록 설정합니다.<br><br>
student배열에 매개변수로 입력 받은 reserve와 lost배열의 정보를 반영하기 위해<br><br>
먼저 lost배열의 처음부터 마지막까지 반복을 돌립니다.<br><br>
lost배열의 배열요소에 해당하는 student 배열의 값을 -1로 바꿔줍니다.<br><br>
다음으로 reserve배열의 처음부터 마지막까지 반복을 돌립니다.<br><br>
reserve배열의 배열요소에 해당하는 student 배열의 값을 +1로 바꿔줍니다.<br><br>
이제 여벌의 체육복이 있는 학생을 기준으로 앞뒤로 체육복을 빌려주는 과정을 구현합니다.<br><br>
student배열의 크기는 n + 2이기 때문에 제일 처음 0번째와 마지막 n + 1 배열요소는 사실상 허수입니다.<br><br>
그래서 반복을 1부터 시작하여 학생의 수인 n보다 작거나 같은 동안 반복을 합니다.<br><br>
반복문 내부에서 해당 학생이 여벌이 있는지 확인하여 여벌이 있으면<br><br>
그 배열첨자에 -1을 하여 앞의 학생이 체육복이 없는지, 즉, 값이 -1인지 확인합니다.<br><br>
앞의 학생이 체육복이 없으면 현재 여벌을 가지고 있는 학생의 값을 -1시켜주고,<br><br>
앞의 학생의 값을 +1시켜주면 이제 앞의 학생과 현재 학생의 값은 모두 0이되고,<br><br>
이는 둘 다 여벌은 없지만 체육복을 가지고 있다는 뜻이 됩니다.<br><br>
뒤의 학생도 앞의 학생 때 한 것처럼 똑같은 방식으로 구현합니다.<br><br>
반복문이 끝나고 나면 student배열에는 여벌이 있는 학생들이<br><br>
앞뒤로 체육복이 없는 학생들에게 체육복을 빌려준 정보가 반영되어 있을 것입니다.<br><br>
마지막으로 student배열의 배열첨자 1부터 n까지 반복을 돌면서<br><br>
배열요소가 -1보다 크면 answer값을 +1 증가시킵니다.<br><br>
이를 통해 최대 몇 명의 학생이 체육시간에 참여할 수 있는지 구할 수 있습니다.<br><br>

# 느낀 점

제가 처음에 HashMap으로 생각한 방법과 설계 과정은 비슷한 면이 있습니다.<br><br>
그런에 여기서는 배열을 사용하면 훨씬 더 깔끔하게 구현할 수 있고,<br><br>
HashMap을 사용하면 Iterator클래스도 사용해야 해서 좀 더 복잡하게 됩니다.<br><br>
또한 배열에서 크기를 n + 2로 처음부터 넉넉하게 설정하여<br><br>
indexeOutOfBoundsException을 예방하는 방법도 생각하지 못하여<br><br>
조건문이 길어진 경향이 있습니다.<br><br>
HashMap이 항상 능사가 아니고, 필요한 상황에서 필요한 자료구조를 이용할 수 있도록 좀 더 깊게 고민을 해야겠습니다.
